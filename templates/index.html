<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Barbearia PDV</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script src="{{ url_for('static', filename='script.js') }}" defer></script>
</head>
<body>

<div class="bg"></div>

<div class="sidebar">
    <div class="logo">ğŸ’ˆ</div>
    <button onclick="showPage('pdv')">ğŸ’³</button>
    <button onclick="showPage('clientes')">ğŸ‘¤</button>
    <button onclick="showPage('servicos')">âœ‚ï¸</button>
    <button onclick="showPage('produtos')">ğŸ§´</button>
    <button onclick="showPage('planos')">ğŸ“¦</button>
    <button onclick="showPage('relatorio')">ğŸ“Š</button>
</div>

<div class="content">

<div id="pdv" class="page">
    <h1>PDV</h1>

    {% if not aberto %}
    <form method="POST" action="/abrir_caixa" class="box">
        <input name="saldo" placeholder="Saldo inicial">
        <button>Abrir Caixa</button>
    </form>
    {% else %}
    <a href="/fechar_caixa" class="btn-danger">Fechar Caixa</a>
    {% endif %}

    <form method="POST" action="/venda" class="box">
        <input name="descricao" placeholder="DescriÃ§Ã£o">
        <input id="valor" name="valor" placeholder="Valor">
        <select id="pagamento" name="pagamento" onchange="calcularTroco()">
            <option>Dinheiro</option>
            <option>Pix</option>
            <option>CartÃ£o</option>
        </select>
        <input id="recebido" placeholder="Recebido" onkeyup="calcularTroco()">
        <p id="troco"></p>
        <button>Finalizar Venda</button>
    </form>
</div>

<div id="clientes" class="page hidden">
    <h1>Clientes</h1>
    <form method="POST" action="/add_cliente" class="box">
        <input name="nome" placeholder="Nome">
        <input name="telefone" placeholder="Telefone">
        <button>Salvar</button>
    </form>
    <ul>{% for c in clientes %}<li>{{ c[1] }} - {{ c[2] }}</li>{% endfor %}</ul>
</div>

<div id="servicos" class="page hidden">
    <h1>ServiÃ§os</h1>
    <form method="POST" action="/add_servico" class="box">
        <input name="nome" placeholder="ServiÃ§o">
        <input name="preco" placeholder="PreÃ§o">
        <button>Salvar</button>
    </form>
    <ul>{% for s in servicos %}<li>{{ s[1] }} - R$ {{ "%.2f"|format(s[2]) }}</li>{% endfor %}</ul>
</div>

<div id="produtos" class="page hidden">
    <h1>Produtos</h1>
    <form method="POST" action="/add_produto" class="box">
        <input name="nome" placeholder="Produto">
        <input name="preco" placeholder="PreÃ§o">
        <button>Salvar</button>
    </form>
    <ul>{% for p in produtos %}<li>{{ p[1] }} - R$ {{ "%.2f"|format(p[2]) }}</li>{% endfor %}</ul>
</div>

<div id="planos" class="page hidden">
    <h1>Planos</h1>
    <form method="POST" action="/add_plano" class="box">
        <input name="nome" placeholder="Plano">
        <input name="valor" placeholder="Valor mensal">
        <button>Salvar</button>
    </form>
    <ul>{% for p in planos %}<li>{{ p[1] }} - R$ {{ "%.2f"|format(p[2]) }}</li>{% endfor %}</ul>
</div>

<div id="relatorio" class="page hidden">
    <h1>RelatÃ³rio Mensal</h1>

    <p>ğŸ’µ Dinheiro: R$ {{ "%.2f"|format(total_dinheiro) }}</p>
    <p>ğŸ“² Pix: R$ {{ "%.2f"|format(total_pix) }}</p>
    <p>ğŸ’³ CartÃ£o: R$ {{ "%.2f"|format(total_cartao) }}</p>
    <h2>Total do mÃªs: R$ {{ "%.2f"|format(total_mes) }}</h2>

    <a href="/relatorio_pdf" target="_blank" class="btn">ğŸ“„ Baixar PDF</a>
</div>

</div>
</body>
</html>
